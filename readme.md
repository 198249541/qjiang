# qjiang自动化脚本项目

这是一个基于Python的自动化脚本项目，用于自动化处理游戏任务，包括日常任务、资源管理、邮件处理、好友互动等功能。

## 📋 项目结构

### 核心功能模块

- **[main.py]- 主程序入口，负责执行所有账号的每日任务
- **[simple_daily.py] - 简化版每日任务，仅保留核心功能
- **[battle_controller.py] - 战斗控制器，用于处理游戏副本挑战
- **[player_info_fetcher.py] - 刷战功能，用于刷战功及刷技能书


### 功能模块

- **[login.py] - 用户登录模块
- **[daily_tasks.py] - 日常任务管理
- **[landResources.py] - 领地资源管理（占领、召回等）
- **[gift.py] - 好友资源互赠
- **[friend.py] - 好友管理（添加、同意请求等）
- **[email_manager.py] - 邮件管理系统（领取附件、抽奖、删除等）
- **[home_copper.py] - 守家铜币领取
- **[sign_in.py] - 签到系统（每日签到、连续签到）
- **[generalCard.py] - 武将卡系统（招募等）
- **[summonCard.py]- 召唤卡系统（训练、提魂等）
- **[market.py]- 市场系统（征收、兑换银票等）
- **[pack.py]- 背包系统（物品使用、合成等）
- **[customs_battle.py]- 关卡战斗系统
- **[arena.py] - 擂台系统（排行榜、兑换等）

### 配置模块

- **[account_config.py] - 账号配置生成器
- **[config.json]- 用户配置文件（自动生成）

## 🚀 快速开始

### 1. 环境准备

确保已安装Python 3.x，并安装必要的依赖包：

```bash
pip install requests
```

### 2. 配置账号信息

首先使用配置生成器创建配置文件：

```bash
python account_config.py
```

按照提示输入账号信息和配置参数，系统将自动生成[config.json]

### 3. 运行主程序

```bash
# 运行完整版每日任务
python main.py

# 或运行简化版（仅核心功能）
python simple_daily.py
```

### 4. 单独运行功能

```bash
# 运行战斗控制器
python battle_controller.py
```

## 🎯 主要功能

### 日常任务管理
- 自动领取日常任务奖励
- 处理任务进度和限制

### 资源管理
- 领地资源占领和召回
- 自动占领空闲资源点
- 超时资源自动召回

### 邮件系统
- 自动领取邮件附件
- 处理关卡抽奖邮件
- 删除已领取和过期邮件
- 智能缓存无法处理的邮件

### 好友互动
- 自动同意好友申请
- 资源互赠（索要/赠送/领取）
- 管理好友关系

### 战斗系统
- 关卡挑战（支持不同难度和关卡）
- 自动完成战斗流程
- 奖励处理

### 市场系统
- 自动征收市场铜钱
- 银票自动兑换

### 擂台系统
- 获取擂台排行榜信息
- 自动兑换积分物品

### 武将系统
- 武将招募、训练和提魂
- 自动管理武将训练槽

## ⚙️ 配置说明

配置文件[config.json]包含以下主要配置项：

- **accounts**: 账号列表（手机号、密码、个性化设置）
- **gift_items**: 资源项目定义
- **auto_mode**: 是否启用自动模式
- **input_timeout**: 输入超时时间
- **target_resource_distribution**: 资源占领目标配比
- **max_train_slots**: 最大训练槽位数
- **customs_battle_settings**: 闯关设置

## 🔧 注意事项

1. **多账号支持**: 系统支持多账号同时运行
2. **Token缓存**: 登录后会缓存token，避免重复登录
3. **错误处理**: 包含完善的异常处理和重试机制
4. **请求频率**: 添加了适当的延迟，避免请求过于频繁
5. **缓存机制**: 邮件系统使用缓存避免重复处理

## 📝 特殊功能

- **自动资源分配**: 根据配置自动分配不同类型资源
- **智能召回**: 自动召回超过8小时的资源
- **抽奖系统**: 处理关卡抽奖邮件并记录结果
- **武将训练**: 自动管理武将训练和提升
- **市场优化**: 自动兑换银票和征收铜钱

## 🛡️ 安全说明

- 请妥善保管账号密码信息
- 配置文件包含敏感信息，请不要公开分享
- 建议定期更换密码以保证账号安全

---

**注意**: 本项目仅供学习参考，请遵守相关法律法规，合理使用。